<div class="fx-row-end-center">
  @if (!isTextOnlyView) {
    <button type="button" mat-icon-button
            matTooltip="{{'metadata.items-read-only-view' | translate}}"
            [matTooltipPosition]="'above'"
            [matTooltipShowDelay]="300"
            (click)="togglePresentation()">
      <studio-lite-wrapped-icon icon="visibility"></studio-lite-wrapped-icon>
    </button>
  }

  @if (isTextOnlyView) {
    <button type="button" mat-icon-button
            matTooltip="{{'metadata.items-editable-view' | translate}}"
            [matTooltipPosition]="'above'"
            [matTooltipShowDelay]="300"
            (click)="togglePresentation()">
      <studio-lite-wrapped-icon icon="edit"></studio-lite-wrapped-icon>
    </button>
  }

</div>
@if (!isTextOnlyView) {
  <div>
    @for (item of items; let i = $index; track i;) {
      <div>
        <div class="fx-row-space-between-start">
          <studio-lite-item
            [variables]="variables"
            [itemIndex]="i"
            [metadata]="items"
            [language]="language"
            [profileUrl]="profileUrl"
            (metadataChange)="onMetadataChange($event)">
          </studio-lite-item>
          <button mat-icon-button
            color="primary"
            type="button"
            (click)="remove(i)">
            <mat-icon>delete</mat-icon>
          </button>
        </div>
      </div>
    }
    <button mat-fab extended="true"
            color="primary"
            type="button"
            class="add-button"
            (click)="add()">
      <mat-icon>add</mat-icon>
      {{'metadata.add-item' | translate}}
    </button>
  </div>
}
@if (isTextOnlyView) {
  <div>
    <studio-lite-metadata-readonly-items [items]="items">
    </studio-lite-metadata-readonly-items>
  </div>
}



