<div>
  <h1 mat-dialog-title>
    {{'workspace-settings.title' | translate}}
  </h1>
  <mat-dialog-content>
    <div>
      <h3>{{'workspace-settings.modules' | translate }}</h3>
      <div class="fx-row-space-between-start fx-gap-10">
        <mat-label>
          {{'workspace-settings.default-editor' | translate}}
        </mat-label>
        <studio-lite-select-module class="fx-flex-row-60"
                           moduleType="editor"
                           [modules]="this.moduleService.editors"
                           [value]="dialogData.defaultEditor"
                           (selectionChanged)="selectModul('editor', $event)"
                           [stableOnly]="false">
        </studio-lite-select-module>
      </div>
      <div class="fx-row-space-between-start fx-gap-10">
        <mat-label>
          {{'workspace-settings.default-player' | translate}}
        </mat-label>
        <studio-lite-select-module class="fx-flex-row-60"
                           moduleType="player"
                           [modules]="this.moduleService.players"
                           [value]="dialogData.defaultPlayer"
                           [stableOnly]="false"
                           (selectionChanged)="selectModul('player', $event)">
        </studio-lite-select-module>
      </div>
      <div class="fx-row-space-between-start fx-gap-10">
        <mat-label>
          {{'workspace-settings.default-schemer' | translate}}
        </mat-label>
        <studio-lite-select-module class="fx-flex-row-60"
                           moduleType="schemer"
                           [modules]="this.moduleService.schemers"
                           [value]="dialogData.defaultSchemer"
                           [stableOnly]="false"
                           (selectionChanged)="selectModul('schemer', $event)">
        </studio-lite-select-module>
      </div>
      <div class="fx-row-start-stretch fx-gap-15 margin-bottom">
        <mat-checkbox (click)="$event.stopPropagation()"
                      (change)="$event ? setStableChecked($event) : null"
                      [checked]="dialogData.stableModulesOnly">
        </mat-checkbox>
        <div> {{'workspace-settings.only-stable-modules' | translate}}</div>
      </div>
      <div>
        <h3>{{'metadata.metadata' | translate }}</h3>
        <div class="fx-column-start-start">
          <mat-label>
            {{'metadata.unit-profile' | translate }}
          </mat-label>
          <mat-select  class="select-profile" placeholder="{{'metadata.select-profile' | translate }}" [(value)]="selectedUnitMDProfile" (click)="$event.stopPropagation()" (selectionChange)="selectUnitMDProfile($event)" >
              <mat-option *ngFor="let unitMDProfile of unitMDProfiles" [value]="unitMDProfile.id">
                {{unitMDProfile.label }}
              </mat-option>
          </mat-select>
        </div>
        <div class="fx-column-start-start">
          <mat-label>
            {{'metadata.item-profile' | translate }}
          </mat-label>
          <mat-select class="select-profile"  placeholder="{{'metadata.select-profile' | translate }}" [(value)]="selectedItemMDProfile" (click)="$event.stopPropagation()" (selectionChange)="selectItemMDProfile($event)" >
            <mat-option *ngFor="let itemMDProfile of itemMDProfiles" [value]="itemMDProfile.id">
              {{itemMDProfile.label}}
            </mat-option>
          </mat-select>
        </div>
      </div>
      <h3>{{'wsg-settings.state-configs' | translate}}</h3>
      <div class="state-config">
        <div *ngFor="let state of dialogData.states" class="fx-row-space-between-start">
          <mat-form-field class="color-form-field">
            <input matInput [id]="state.id.toString()"  class="color-input-field" type="color" [value]="state.color" (input)="stateSelectionChange($event)"/>
          </mat-form-field>
          <mat-form-field class="text-form-field">
            <input matInput [id]="state.id.toString()" type="text" [value]="state.label" (input)="stateSelectionChange($event)"/>
          </mat-form-field>
          <button class="delete-button" mat-icon-button (click)="deleteState(state.id)">
            <mat-icon>delete</mat-icon>
          </button>
        </div>
        <div class="add-state" (click)="addState()">
          <button mat-raised-button>{{'wsg-settings.add-state' | translate}} </button>
        </div>
      </div>
    </div>
  </mat-dialog-content>
  <mat-dialog-actions>
    <button mat-raised-button
            color="primary"
            type="submit"
            (click)="addData()"
            [mat-dialog-close]="dialogData">
      {{'save' | translate}}
    </button>
    <button mat-raised-button
            [mat-dialog-close]="false">
      {{'cancel' | translate}}
    </button>
  </mat-dialog-actions>
</div>
{{dialogData | json}}
